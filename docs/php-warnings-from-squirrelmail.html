<!DOCTYPE html>
<html lang="en">
<head>
        <title>PHP Warnings fromÂ Squirrelmail</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css" />
        <link rel="stylesheet" href="./theme/css/main.css" />
</head>
<body>

    <div class="navigation pure-menu pure-menu-horizontal">
        <a href="./" class="pure-menu-heading  pure-menu-link">Slacy's Blog</a>
        <ul class="pure-menu-list">
            <li class="pure-menu-item"></li>

        </ul>
    </div>


<div class="page-container">
    <div class="entry-content">
        <div class="post-meta pure-g">
<div class="pure-u-3-4 meta-data">
    <a href="./category/linux-stuff-web.html" class="category">Linux Stuff, Web</a><br />

    <a class="author" href="./author/slacy.html">slacy</a>
    &mdash; <abbr title="2005-11-19T19:24:00-08:00">Sat 19 November 2005</abbr>
</div>        </div>
    </div>

    <div class="article-header-container">
        <div class="background-image-container">

            <div class="background-image-small">
                <div class="title-container">
                    <h1><span class="caps">PHP</span> Warnings from&nbsp;Squirrelmail</h1>
                </div>
            </div>
        </div>
    </div>

    <div class="entry-content">
        <p>While setting up my new server, I had some trouble getting Squirrelmail
to work. I&#8217;m trying to do a &#8220;staged&#8221; switch from one machine to the
other, and the first to get moved is the web frontends. So, my mail
backends are still on the old server, which means that squirrelmail
needs to talk to the remote machine. Configuring for a remote <span class="caps">IMAP</span>
server was showing me a &#8220;permission denied&#8221; error. The error that was
showing up in my http error log&nbsp;was:</p>
<p>[client xxx.xxx.xxx.xxx] <span class="caps">PHP</span> Warning: fsockopen()
[<a href="function.fsockopen">function.fsockopen</a>]: unable to connect to
xxx.xxx.xxx.xxx:25 (Permission denied) in [&#8230;]/configtest.php on line&nbsp;266</p>
<p>The issue was the selinux permissions on the web server &#8212; what I was
trying to do violated the selinux permissions scheme that was currently
in place. I ran &#8220;system-config-securitylevel&#8221; and under the SElinux tab,
selected the <span class="caps">HTTPD</span> permissions, and checked the box that says &#8220;Allow
<span class="caps">HTTPD</span> scripts to connect to the network&#8221;. This then allowed <span class="caps">PHP</span> scripts
on the new machine to talk to the mail server on the old&nbsp;machine.</p>
<p>It seems to me that the error message should be a little more
appropriate &#8212; &#8220;SElinux policy violation&#8221; would have been just fine.
Instead, I got a generic &#8220;Permission Denied&#8221; which could mean virtually&nbsp;anything.</p>
    </div>

    <footer>
        <div class="pure-g post-footer">
            <div class="pure-u-1 pure-u-md-1-2">
                <div class="pure-g poster-info">
                    <div class="pure-u">
                        <a href="./author/slacy.html"><img src="https://slacy.github.io/blog/images/ygg.png" alt=""></a>
                    </div>
                    <div class="pure-u-3-4">
                        <h3 class="author-name"><a href="./author/slacy.html">slacy</a></h3>
                        <p class="author-description">
                                              
                        </p>
                    </div>
                </div>
            </div>



        </div>


    </footer>


</div>



    <footer class="index-footer">

        <a href="./" title="Slacy's Blog">Slacy's Blog</a>

    </footer>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-85612-4', 'auto');
      ga('send', 'pageview');

    </script>
</body>
</html>