<!DOCTYPE html>
<html lang="en">
<head>
        <title>Patch for Netjuke & Fedora Core 6 & PHPÂ 5.1</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css" />
        <link rel="stylesheet" href="./theme/css/main.css" />
</head>
<body>

    <div class="navigation pure-menu pure-menu-horizontal">
        <a href="./" class="pure-menu-heading  pure-menu-link">Slacy's Blog</a>
        <ul class="pure-menu-list">
            <li class="pure-menu-item"></li>

        </ul>
    </div>


<div class="page-container">
    <div class="entry-content">
        <div class="post-meta pure-g">
<div class="pure-u-3-4 meta-data">
    <a href="./category/linux-stuff-music.html" class="category">Linux Stuff, Music</a><br />

    <a class="author" href="./author/slacy.html">slacy</a>
    &mdash; <abbr title="2007-03-09T09:47:00-08:00">Fri 09 March 2007</abbr>
</div>        </div>
    </div>

    <div class="article-header-container">
        <div class="background-image-container">

            <div class="background-image-small">
                <div class="title-container">
                    <h1>Patch for Netjuke <span class="amp">&amp;</span> Fedora Core 6 <span class="amp">&amp;</span> <span class="caps">PHP</span>&nbsp;5.1</h1>
                </div>
            </div>
        </div>
    </div>

    <div class="entry-content">
        <p>After upgrading to <span class="caps">FC6</span>, which includes <span class="caps">PHP</span> 5.1, when I clicked on the
&#8220;play&#8221; icons in the Netjuke <span class="caps">UI</span>, the playlist would show in the browser
instead of starting playback. The problem seemed to be that Netjuke was
now returning &#8220;text/html&#8221; for the mime type of the generated .m3u,
instead of whatever it used to be. The problem boiled down to some
simple code in play.php. To fix the problem, change the following&nbsp;line:</p>
<blockquote>
<p>header (&#8220;Content-type: audio/x-mpegurl\r\nContent-Disposition:
inline; filename=netjuke-&#8220;.substr(time(),-7).&#8221;.m3u&#8221;&nbsp;);</p>
</blockquote>
<p>to</p>
<blockquote>
<p>header (&#8220;Content-type: audio/x-mpegurl&#8221;);<br>
header (&#8220;Content-Disposition: inline;
filename=netjuke-&#8220;.substr(time(),-7).&#8221;.m3u&#8221;&nbsp;);</p>
</blockquote>
<p>I&#8217;m not sure why they originally wrote it that way &#8212; its a really silly
way to set 2 headers at the same time. Too bad Netjuke isn&#8217;t maintained
anymore&#8230;&nbsp;:(</p>
<p><span class="caps">P.S.</span> <a href="http://slacy.com/blog/index.php/2006/09/05/jinzora-still-blows/">Jinzora still&nbsp;blows.</a></p>
    </div>

    <footer>
        <div class="pure-g post-footer">
            <div class="pure-u-1 pure-u-md-1-2">
                <div class="pure-g poster-info">
                    <div class="pure-u">
                        <a href="./author/slacy.html"><img src="https://slacy.github.io/blog/images/ygg.png" alt=""></a>
                    </div>
                    <div class="pure-u-3-4">
                        <h3 class="author-name"><a href="./author/slacy.html">slacy</a></h3>
                        <p class="author-description">
                                              
                        </p>
                    </div>
                </div>
            </div>



        </div>


    </footer>


</div>



    <footer class="index-footer">

        <a href="./" title="Slacy's Blog">Slacy's Blog</a>

    </footer>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-85612-4', 'auto');
      ga('send', 'pageview');

    </script>
</body>
</html>