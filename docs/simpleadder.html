<!DOCTYPE html>
<html lang="en">
<head>
        <title>SimpleAdder</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css" />
        <link rel="stylesheet" href="./theme/css/main.css" />
</head>
<body>

    <div class="navigation pure-menu pure-menu-horizontal">
        <a href="./" class="pure-menu-heading  pure-menu-link">Slacy's Blog</a>
        <ul class="pure-menu-list">
            <li class="pure-menu-item"></li>

            <li class="pure-menu-item pure-menu-selected"><a href="./category/misc.html" class="pure-menu-link">misc</a></li>
            <li class="pure-menu-item"><a href="./category/pelican.html" class="pure-menu-link">Pelican</a></li>
        </ul>
    </div>


<div class="page-container">
    <div class="entry-content">
        <div class="post-meta pure-g">
<div class="pure-u-3-4 meta-data">
    <a href="./category/misc.html" class="category">misc</a><br />

    <a class="author" href="./author/steve-lacy.html">Steve Lacy</a>
    &mdash; <abbr title="2017-01-27T11:04:57.995902-08:00">Fri 27 January 2017</abbr>
</div>        </div>
    </div>

    <div class="article-header-container">
        <div class="background-image-container">

            <div class="background-image-small">
                <div class="title-container">
                    <h1>SimpleAdder</h1>
                </div>
            </div>
        </div>
    </div>

    <div class="entry-content">
        <div class="math">$$c = \sqrt{a^2 + b^2}$$</div>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">tensorflow</span> <span class="kn">as</span> <span class="nn">tf</span>
<span class="kn">import</span> <span class="nn">numpy</span>
<span class="kn">import</span> <span class="nn">random</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="c1"># tf Graph Input</span>
<span class="n">num_inputs</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">num_hidden</span> <span class="o">=</span> <span class="mi">2</span><span class="o">**</span><span class="mi">16</span>

<span class="n">inputs</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">placeholder</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="n">tf</span><span class="o">.</span><span class="n">float32</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="bp">None</span><span class="p">,</span> <span class="n">num_inputs</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;inputs&quot;</span><span class="p">)</span>
<span class="n">expected</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">placeholder</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="n">tf</span><span class="o">.</span><span class="n">float32</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="bp">None</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;expected&quot;</span><span class="p">)</span>

<span class="n">iw</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">Variable</span><span class="p">(</span><span class="n">expected_shape</span><span class="o">=</span><span class="p">[</span><span class="n">num_inputs</span><span class="p">,</span> <span class="n">num_hidden</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;input_weights&quot;</span><span class="p">,</span> 
                 <span class="n">initial_value</span><span class="o">=</span><span class="n">tf</span><span class="o">.</span><span class="n">truncated_normal</span><span class="p">([</span><span class="n">num_inputs</span><span class="p">,</span> <span class="n">num_hidden</span><span class="p">],</span> <span class="n">stddev</span><span class="o">=</span><span class="mf">0.25</span><span class="p">))</span>
<span class="n">ib</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">Variable</span><span class="p">(</span><span class="n">expected_shape</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">num_hidden</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;input_biases&quot;</span><span class="p">,</span> 
                 <span class="n">initial_value</span><span class="o">=</span><span class="n">tf</span><span class="o">.</span><span class="n">truncated_normal</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="n">num_hidden</span><span class="p">],</span> <span class="n">stddev</span><span class="o">=</span><span class="mf">0.25</span><span class="p">))</span>

<span class="c1"># Middle &quot;hidden&quot; layer values of the network </span>
<span class="n">l</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">relu</span><span class="p">(</span><span class="n">tf</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tf</span><span class="o">.</span><span class="n">matmul</span><span class="p">(</span><span class="n">inputs</span><span class="p">,</span> <span class="n">iw</span><span class="p">),</span> <span class="n">ib</span><span class="p">))</span>

<span class="c1"># Weight and biases used to turn hidden layer into final output value. </span>
<span class="n">ow</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">Variable</span><span class="p">(</span><span class="n">expected_shape</span><span class="o">=</span><span class="p">[</span><span class="n">num_hidden</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;output_weight&quot;</span><span class="p">,</span> 
                 <span class="n">initial_value</span><span class="o">=</span><span class="n">tf</span><span class="o">.</span><span class="n">truncated_normal</span><span class="p">([</span><span class="n">num_hidden</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stddev</span><span class="o">=</span><span class="mf">0.25</span><span class="p">))</span>
<span class="n">ob</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">Variable</span><span class="p">(</span><span class="n">expected_shape</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;output_bias&quot;</span><span class="p">,</span> 
                 <span class="n">initial_value</span><span class="o">=</span><span class="n">tf</span><span class="o">.</span><span class="n">truncated_normal</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stddev</span><span class="o">=</span><span class="mf">0.25</span><span class="p">))</span>

<span class="n">output</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tf</span><span class="o">.</span><span class="n">matmul</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">ow</span><span class="p">),</span> <span class="n">ob</span><span class="p">)</span>

<span class="c1"># We compute error as the mean square difference </span>
<span class="n">error</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">reduce_mean</span><span class="p">(</span><span class="n">tf</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">tf</span><span class="o">.</span><span class="n">subtract</span><span class="p">(</span><span class="n">output</span><span class="p">,</span> <span class="n">expected</span><span class="p">),</span> <span class="mi">2</span><span class="p">))</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="c1"># Parameters</span>
<span class="n">learning_rate</span> <span class="o">=</span> <span class="mf">0.0001</span> 

<span class="c1"># Gradient descent</span>
<span class="n">optimizer</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">train</span><span class="o">.</span><span class="n">GradientDescentOptimizer</span><span class="p">(</span><span class="n">learning_rate</span><span class="p">)</span><span class="o">.</span><span class="n">minimize</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">training_steps</span> <span class="o">=</span> <span class="mi">15000</span>

<span class="nb">min</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="nb">max</span> <span class="o">=</span> <span class="mi">5</span>

<span class="n">display_step</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">batch_size</span> <span class="o">=</span> <span class="mi">250</span>

<span class="c1"># Launch the graph</span>
<span class="k">with</span> <span class="n">tf</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span> <span class="k">as</span> <span class="n">sess</span><span class="p">:</span>
    <span class="n">sess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">tf</span><span class="o">.</span><span class="n">global_variables_initializer</span><span class="p">())</span>

    <span class="k">for</span> <span class="n">epoch</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">training_steps</span><span class="p">):</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span> <span class="n">inputs</span><span class="p">:</span> <span class="p">[],</span> <span class="n">expected</span><span class="p">:</span> <span class="p">[]}</span>
        <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">batch_size</span><span class="p">):</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="nb">min</span><span class="p">,</span><span class="nb">max</span><span class="p">)</span>
            <span class="n">y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="nb">min</span><span class="p">,</span><span class="nb">max</span><span class="p">)</span>
            <span class="n">data</span><span class="p">[</span><span class="n">inputs</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">])</span>
            <span class="n">data</span><span class="p">[</span><span class="n">expected</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">,])</span>
        <span class="n">sess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">optimizer</span><span class="p">,</span> <span class="n">feed_dict</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">epoch</span> <span class="o">%</span> <span class="n">display_step</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="c1">#           print &quot;data=&quot;, data </span>
            <span class="n">e</span> <span class="o">=</span> <span class="n">sess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">feed_dict</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
            <span class="k">print</span> <span class="s2">&quot;Epoch:&quot;</span><span class="p">,</span> <span class="n">epoch</span><span class="p">,</span> <span class="s2">&quot; error=&quot;</span><span class="p">,</span> <span class="n">e</span>
    <span class="k">print</span> <span class="s2">&quot;iw= &quot;</span><span class="p">,</span> <span class="n">sess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">iw</span><span class="p">)</span>
    <span class="k">print</span> <span class="s2">&quot;ib= &quot;</span><span class="p">,</span> <span class="n">sess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">ib</span><span class="p">)</span>
    <span class="k">print</span> <span class="s2">&quot;ow= &quot;</span><span class="p">,</span> <span class="n">sess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">ow</span><span class="p">)</span>
    <span class="k">print</span> <span class="s2">&quot;ob= &quot;</span><span class="p">,</span> <span class="n">sess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">ob</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">min</span><span class="p">,</span> <span class="nb">max</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">min</span><span class="p">,</span> <span class="nb">max</span><span class="p">):</span>
            <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="n">inputs</span><span class="p">:</span> <span class="p">[[</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">],],</span> <span class="n">expected</span><span class="p">:</span> <span class="p">[[</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">,],]}</span>
            <span class="k">print</span> <span class="s2">&quot;x=&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="s2">&quot; y=&quot;</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s2">&quot; out=&quot;</span><span class="p">,</span> <span class="n">sess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">output</span><span class="p">,</span> <span class="n">feed_dict</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">Epoch</span><span class="o">:</span> <span class="mi">0</span>  <span class="n">error</span><span class="o">=</span> <span class="mf">5558.23</span>
<span class="n">Epoch</span><span class="o">:</span> <span class="mi">100</span>  <span class="n">error</span><span class="o">=</span> <span class="mf">11097.4</span>
<span class="n">Epoch</span><span class="o">:</span> <span class="mi">200</span>  <span class="n">error</span><span class="o">=</span> <span class="mf">4815.07</span>
<span class="n">Epoch</span><span class="o">:</span> <span class="mi">300</span>  <span class="n">error</span><span class="o">=</span> <span class="mf">328.96</span>
<span class="n">Epoch</span><span class="o">:</span> <span class="mi">400</span>  <span class="n">error</span><span class="o">=</span> <span class="mf">561.612</span>
<span class="n">Epoch</span><span class="o">:</span> <span class="mi">500</span>  <span class="n">error</span><span class="o">=</span> <span class="mf">397.593</span>
<span class="n">Epoch</span><span class="o">:</span> <span class="mi">600</span>  <span class="n">error</span><span class="o">=</span> <span class="mf">194.758</span>
<span class="n">Epoch</span><span class="o">:</span> <span class="mi">700</span>  <span class="n">error</span><span class="o">=</span> <span class="mf">144.604</span>
<span class="n">Epoch</span><span class="o">:</span> <span class="mi">800</span>  <span class="n">error</span><span class="o">=</span> <span class="mf">185.569</span>
<span class="n">Epoch</span><span class="o">:</span> <span class="mi">900</span>  <span class="n">error</span><span class="o">=</span> <span class="mf">128.551</span>
<span class="n">Epoch</span><span class="o">:</span> <span class="mi">1000</span>  <span class="n">error</span><span class="o">=</span> <span class="mf">130.063</span>
<span class="n">Epoch</span><span class="o">:</span> <span class="mi">1100</span>  <span class="n">error</span><span class="o">=</span> <span class="mf">114.86</span>
<span class="n">Epoch</span><span class="o">:</span> <span class="mi">1200</span>  <span class="n">error</span><span class="o">=</span> <span class="mf">150.941</span>
<span class="n">Epoch</span><span class="o">:</span> <span class="mi">1300</span>  <span class="n">error</span><span class="o">=</span> <span class="mf">71.6601</span>
<span class="n">Epoch</span><span class="o">:</span> <span class="mi">1400</span>  <span class="n">error</span><span class="o">=</span> <span class="mf">38.9361</span>
<span class="n">Epoch</span><span class="o">:</span> <span class="mi">1500</span>  <span class="n">error</span><span class="o">=</span> <span class="mf">25.3115</span>
<span class="n">Epoch</span><span class="o">:</span> <span class="mi">1600</span>  <span class="n">error</span><span class="o">=</span> <span class="mf">41.65</span>
<span class="n">Epoch</span><span class="o">:</span> <span class="mi">1700</span>  <span class="n">error</span><span class="o">=</span> <span class="mf">52.1016</span>
<span class="n">Epoch</span><span class="o">:</span> <span class="mi">1800</span>  <span class="n">error</span><span class="o">=</span> <span class="mf">29.0106</span>
<span class="n">Epoch</span><span class="o">:</span> <span class="mi">1900</span>  <span class="n">error</span><span class="o">=</span> <span class="mf">45.9973</span>
<span class="n">Epoch</span><span class="o">:</span> <span class="mi">2000</span>  <span class="n">error</span><span class="o">=</span> <span class="mf">167.69</span>
<span class="n">Epoch</span><span class="o">:</span> <span class="mi">2100</span>  <span class="n">error</span><span class="o">=</span> <span class="mf">42.9436</span>
<span class="n">Epoch</span><span class="o">:</span> <span class="mi">2200</span>  <span class="n">error</span><span class="o">=</span> <span class="mf">67.1462</span>
<span class="n">Epoch</span><span class="o">:</span> <span class="mi">2300</span>  <span class="n">error</span><span class="o">=</span> <span class="mf">11.8913</span>
<span class="n">Epoch</span><span class="o">:</span> <span class="mi">2400</span>  <span class="n">error</span><span class="o">=</span> <span class="mf">15.9855</span>
<span class="n">Epoch</span><span class="o">:</span> <span class="mi">2500</span>  <span class="n">error</span><span class="o">=</span> <span class="mf">11.3068</span>
<span class="n">Epoch</span><span class="o">:</span> <span class="mi">2600</span>  <span class="n">error</span><span class="o">=</span> <span class="mf">21.6484</span>
<span class="n">Epoch</span><span class="o">:</span> <span class="mi">2700</span>  <span class="n">error</span><span class="o">=</span> <span class="mf">11.6775</span>
<span class="n">Epoch</span><span class="o">:</span> <span class="mi">2800</span>  <span class="n">error</span><span class="o">=</span> <span class="mf">10.828</span>
<span class="n">Epoch</span><span class="o">:</span> <span class="mi">2900</span>  <span class="n">error</span><span class="o">=</span> <span class="mf">20.1986</span>



<span class="o">---------------------------------------------------------------------------</span>

<span class="n">KeyboardInterrupt</span>                         <span class="n">Traceback</span> <span class="o">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="o">)</span>

<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="n">input</span><span class="o">-</span><span class="mi">96</span><span class="o">-</span><span class="mi">1</span><span class="n">ee70506aeee</span><span class="o">&gt;</span> <span class="k">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;()</span>
     <span class="mi">18</span>             <span class="n">data</span><span class="o">[</span><span class="n">inputs</span><span class="o">].</span><span class="n">append</span><span class="o">([</span><span class="n">x</span><span class="o">,</span><span class="n">y</span><span class="o">])</span>
     <span class="mi">19</span>             <span class="n">data</span><span class="o">[</span><span class="n">expected</span><span class="o">].</span><span class="n">append</span><span class="o">([</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="o">,])</span>
<span class="o">---&gt;</span> <span class="mi">20</span>         <span class="n">sess</span><span class="o">.</span><span class="na">run</span><span class="o">(</span><span class="n">optimizer</span><span class="o">,</span> <span class="n">feed_dict</span><span class="o">=</span><span class="n">data</span><span class="o">)</span>
     <span class="mi">21</span> 
     <span class="mi">22</span>         <span class="k">if</span> <span class="n">epoch</span> <span class="o">%</span> <span class="n">display_step</span> <span class="o">==</span> <span class="mi">0</span><span class="o">:</span>


<span class="sr">/home/slacy/src/tensorflow/env/local/lib/python2.7/site-packages/tensorflow/python/client/s</span><span class="n">ession</span><span class="o">.</span><span class="na">pyc</span> <span class="k">in</span> <span class="n">run</span><span class="o">(</span><span class="n">self</span><span class="o">,</span> <span class="n">fetches</span><span class="o">,</span> <span class="n">feed_dict</span><span class="o">,</span> <span class="n">options</span><span class="o">,</span> <span class="n">run_metadata</span><span class="o">)</span>
    <span class="mi">764</span>     <span class="k">try</span><span class="o">:</span>
    <span class="mi">765</span>       <span class="n">result</span> <span class="o">=</span> <span class="n">self</span><span class="o">.</span><span class="na">_run</span><span class="o">(</span><span class="n">None</span><span class="o">,</span> <span class="n">fetches</span><span class="o">,</span> <span class="n">feed_dict</span><span class="o">,</span> <span class="n">options_ptr</span><span class="o">,</span>
<span class="o">--&gt;</span> <span class="mi">766</span>                          <span class="n">run_metadata_ptr</span><span class="o">)</span>
    <span class="mi">767</span>       <span class="k">if</span> <span class="n">run_metadata</span><span class="o">:</span>
    <span class="mi">768</span>         <span class="n">proto_data</span> <span class="o">=</span> <span class="n">tf_session</span><span class="o">.</span><span class="na">TF_GetBuffer</span><span class="o">(</span><span class="n">run_metadata_ptr</span><span class="o">)</span>


<span class="sr">/home/slacy/src/tensorflow/env/local/lib/python2.7/site-packages/tensorflow/python/client/s</span><span class="n">ession</span><span class="o">.</span><span class="na">pyc</span> <span class="k">in</span> <span class="n">_run</span><span class="o">(</span><span class="n">self</span><span class="o">,</span> <span class="n">handle</span><span class="o">,</span> <span class="n">fetches</span><span class="o">,</span> <span class="n">feed_dict</span><span class="o">,</span> <span class="n">options</span><span class="o">,</span> <span class="n">run_metadata</span><span class="o">)</span>
    <span class="mi">962</span>     <span class="k">if</span> <span class="n">final_fetches</span> <span class="n">or</span> <span class="n">final_targets</span><span class="o">:</span>
    <span class="mi">963</span>       <span class="n">results</span> <span class="o">=</span> <span class="n">self</span><span class="o">.</span><span class="na">_do_run</span><span class="o">(</span><span class="n">handle</span><span class="o">,</span> <span class="n">final_targets</span><span class="o">,</span> <span class="n">final_fetches</span><span class="o">,</span>
<span class="o">--&gt;</span> <span class="mi">964</span>                              <span class="n">feed_dict_string</span><span class="o">,</span> <span class="n">options</span><span class="o">,</span> <span class="n">run_metadata</span><span class="o">)</span>
    <span class="mi">965</span>     <span class="k">else</span><span class="o">:</span>
    <span class="mi">966</span>       <span class="n">results</span> <span class="o">=</span> <span class="o">[]</span>


<span class="sr">/home/slacy/src/tensorflow/env/local/lib/python2.7/site-packages/tensorflow/python/client/s</span><span class="n">ession</span><span class="o">.</span><span class="na">pyc</span> <span class="k">in</span> <span class="n">_do_run</span><span class="o">(</span><span class="n">self</span><span class="o">,</span> <span class="n">handle</span><span class="o">,</span> <span class="n">target_list</span><span class="o">,</span> <span class="n">fetch_list</span><span class="o">,</span> <span class="n">feed_dict</span><span class="o">,</span> <span class="n">options</span><span class="o">,</span> <span class="n">run_metadata</span><span class="o">)</span>
   <span class="mi">1012</span>     <span class="k">if</span> <span class="n">handle</span> <span class="k">is</span> <span class="n">None</span><span class="o">:</span>
   <span class="mi">1013</span>       <span class="k">return</span> <span class="n">self</span><span class="o">.</span><span class="na">_do_call</span><span class="o">(</span><span class="n">_run_fn</span><span class="o">,</span> <span class="n">self</span><span class="o">.</span><span class="na">_session</span><span class="o">,</span> <span class="n">feed_dict</span><span class="o">,</span> <span class="n">fetch_list</span><span class="o">,</span>
<span class="o">-&gt;</span> <span class="mi">1014</span>                            <span class="n">target_list</span><span class="o">,</span> <span class="n">options</span><span class="o">,</span> <span class="n">run_metadata</span><span class="o">)</span>
   <span class="mi">1015</span>     <span class="k">else</span><span class="o">:</span>
   <span class="mi">1016</span>       <span class="k">return</span> <span class="n">self</span><span class="o">.</span><span class="na">_do_call</span><span class="o">(</span><span class="n">_prun_fn</span><span class="o">,</span> <span class="n">self</span><span class="o">.</span><span class="na">_session</span><span class="o">,</span> <span class="n">handle</span><span class="o">,</span> <span class="n">feed_dict</span><span class="o">,</span>


<span class="sr">/home/slacy/src/tensorflow/env/local/lib/python2.7/site-packages/tensorflow/python/client/s</span><span class="n">ession</span><span class="o">.</span><span class="na">pyc</span> <span class="k">in</span> <span class="n">_do_call</span><span class="o">(</span><span class="n">self</span><span class="o">,</span> <span class="n">fn</span><span class="o">,</span> <span class="o">*</span><span class="n">args</span><span class="o">)</span>
   <span class="mi">1019</span>   <span class="n">def</span> <span class="n">_do_call</span><span class="o">(</span><span class="n">self</span><span class="o">,</span> <span class="n">fn</span><span class="o">,</span> <span class="o">*</span><span class="n">args</span><span class="o">):</span>
   <span class="mi">1020</span>     <span class="k">try</span><span class="o">:</span>
<span class="o">-&gt;</span> <span class="mi">1021</span>       <span class="k">return</span> <span class="n">fn</span><span class="o">(*</span><span class="n">args</span><span class="o">)</span>
   <span class="mi">1022</span>     <span class="n">except</span> <span class="n">errors</span><span class="o">.</span><span class="na">OpError</span> <span class="k">as</span> <span class="n">e</span><span class="o">:</span>
   <span class="mi">1023</span>       <span class="n">message</span> <span class="o">=</span> <span class="n">compat</span><span class="o">.</span><span class="na">as_text</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">message</span><span class="o">)</span>


<span class="sr">/home/slacy/src/tensorflow/env/local/lib/python2.7/site-packages/tensorflow/python/client/s</span><span class="n">ession</span><span class="o">.</span><span class="na">pyc</span> <span class="k">in</span> <span class="n">_run_fn</span><span class="o">(</span><span class="n">session</span><span class="o">,</span> <span class="n">feed_dict</span><span class="o">,</span> <span class="n">fetch_list</span><span class="o">,</span> <span class="n">target_list</span><span class="o">,</span> <span class="n">options</span><span class="o">,</span> <span class="n">run_metadata</span><span class="o">)</span>
   <span class="mi">1001</span>         <span class="k">return</span> <span class="n">tf_session</span><span class="o">.</span><span class="na">TF_Run</span><span class="o">(</span><span class="n">session</span><span class="o">,</span> <span class="n">options</span><span class="o">,</span>
   <span class="mi">1002</span>                                  <span class="n">feed_dict</span><span class="o">,</span> <span class="n">fetch_list</span><span class="o">,</span> <span class="n">target_list</span><span class="o">,</span>
<span class="o">-&gt;</span> <span class="mi">1003</span>                                  <span class="n">status</span><span class="o">,</span> <span class="n">run_metadata</span><span class="o">)</span>
   <span class="mi">1004</span> 
   <span class="mi">1005</span>     <span class="n">def</span> <span class="n">_prun_fn</span><span class="o">(</span><span class="n">session</span><span class="o">,</span> <span class="n">handle</span><span class="o">,</span> <span class="n">feed_dict</span><span class="o">,</span> <span class="n">fetch_list</span><span class="o">):</span>


<span class="n">KeyboardInterrupt</span><span class="o">:</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="c1"># Regression result</span>
</pre></div>


<div class="highlight"><pre><span></span>
</pre></div>


<div class="highlight"><pre><span></span>
</pre></div>


<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    var location_protocol = (false) ? 'https' : document.location.protocol;
    if (location_protocol !== 'http' && location_protocol !== 'https') location_protocol = 'https:';
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
    </div>

    <footer>
        <div class="pure-g post-footer">
            <div class="pure-u-1 pure-u-md-1-2">
                <div class="pure-g poster-info">
                    <div class="pure-u-3-4">
                        <h3 class="author-name"><a href="./author/steve-lacy.html">Steve Lacy</a></h3>
                        <p class="author-description">
                        </p>
                    </div>
                </div>
            </div>



        </div>


    </footer>


</div>



    <footer class="index-footer">

        <a href="./" title="Slacy's Blog">Slacy's Blog</a>
        <a href="./category/misc.html">misc</a>
        <a href="./category/pelican.html">Pelican</a>
        <a href="http://getpelican.com/">Pelican</a>

    </footer>

</body>
</html>